# Application Name
spring.application.name=authentication-api

# Server Configuration - Jetty
server.port=8080
server.servlet.context-path=/authentication

# MariaDB Database Configuration
spring.datasource.url=jdbc:mariadb://localhost:3306/clean_dev?useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true&rewriteBatchedStatements=true&cachePrepStmts=true&prepStmtCacheSize=250&prepStmtCacheSqlLimit=2048&useServerPrepStmts=true&useLocalSessionState=true&useLocalTransactionState=true
spring.datasource.username=user
spring.datasource.password=user
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

# Connection Pool Configuration (HikariCP)
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.connection-init-sql=SET time_zone = '+00:00'

# JPA/Hibernate Configuration for MariaDB
# Using 'none' since Flyway manages the schema (see clean-flyway-sql module)
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.connection.characterEncoding=utf8mb4
spring.jpa.properties.hibernate.connection.useUnicode=true
spring.jpa.properties.hibernate.connection.provider_disables_autocommit=true
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false
spring.jpa.properties.hibernate.generate_statistics=false
spring.jpa.open-in-view=false

# Flyway Configuration - DISABLED (migrations handled by separate project)
spring.flyway.enabled=false

# Jetty Server Configuration
server.jetty.connection-idle-timeout=30000
server.jetty.max-http-form-post-size=200000
server.jetty.threads.max=200
server.jetty.threads.min=8
server.jetty.threads.idle-timeout=60000
server.jetty.accesslog.enabled=true
server.jetty.accesslog.filename=logs/access.log
server.jetty.accesslog.file-date-format=yyyy-MM-dd
server.jetty.accesslog.append=true

# Component Scan Package Configuration (can be overridden via environment)
com.clean.controller.packages=com.clean.authentication
com.clean.service.packages=com.clean.authentication
com.clean.component.packages=com.clean.authentication
com.clean.entity.packages=com.clean.authentication.entity
com.clean.repo.packages=com.clean.authentication.dao
